@page
@{
    var data = ViewBag.item;

}
<div class="p-4">
    <div class="row">
        <div class="col-md-5">
            <h1>
                <span class="">Want to edit this item?</span>
            </h1>
            <form class="form-put" method="put" action="/api/shoppinglist/@data.Id">
                <div class="p-3">
                    <div class="mt-3"> Change the Title to: <input type="text" name="Title" value="@data.Title"> </div>
                    <div class="mt-3">Change the Description to: <input type="text" name="Description" value="@data.Description"> </div>
                    <div class="mt-3">Change the Url to: <input type="text" name="Url" value="@data.Url"> </div>
                    <button type="submit" class="btn btn-primary mt-4">Save</button>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
<script>
    $(document).ready(function() {
        let url = $("form.form-put").attr("action");
        $('form.form-put').submit(function () {
            $.ajax({
                url: url,
                type: 'PUT',
                data: $('form.form-put').serialize(),
                success: function(data, textStatus) {
                        // data.redirect contains the string URL to redirect to
                        window.location.href = window.location;

                }

            });
            return false;
        });

    });
</script>
}